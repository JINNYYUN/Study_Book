<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
<p id="demo"></p>

<script type="text/javascript">

let xhttp = new XMLHttpRequest();

//parsing
xhttp.onreadystatechange = function(){
	if(xhttp.readyState == 4 && xhttp.status==200){
		jsonFunc(xhttp.responseText);
	}
}
xhttp.open("GET","jsondata.json", true);
xhttp.send();

function jsonFunc(resp){
//	alert("함수호출") //확인용
//	alert( resp );
	
	let arr = JSON.parse(resp); //JSON형식의 문자열을 자바스크립트 객체로 변환함.
//	alert( arr );
	
	let txt = "";
	for(key in arr[0]){
		console.log(key); 
		//name, age, address, tel이 출력됨
		//번지로 관리되는 배열과 달리, JSON은 key값으로 관리되고 있음을 확인할 수 있다.
		//(배열의 경우 0, 1, 2, 3 이렇게 출력됨)
	}
	
	//key값을 꺼낼 때
	for (var i = 0; i < arr.length; i++) {
		for(key in arr[i]){
			txt += key + ":" + arr[i][key] + "  ";
		}
		txt += "<br>";
	}
	
	//key값 없이 value만 출력할 때
	for (var i = 0; i < arr.length; i++) {
		txt += arr[i].name + " " +
				arr[i].age + " " +
				arr[i].address + " " +
				arr[i].tel + "<br>";
	}
	
	document.getElementById("demo").innerHTML = txt;
}
</script>
</body>
</html>